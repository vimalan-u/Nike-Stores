import{aV as re,aW as w,h as n,aX as E,aY as ie,y as a,z as l,o as X}from"./index-94144462.js";import{t as le}from"./index-8d968404.js";var ce={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};function de(b,p=[]){const t=Object.assign({},b);for(const s of p)s in t&&delete t[s];return t}function he(b={}){const p=re(b),{isDisabled:t,isReadOnly:s,isRequired:D,isInvalid:i,id:I,onBlur:Y,onFocus:G,"aria-describedby":R}=p,{defaultChecked:B,isChecked:M,isFocusable:J,onChange:Q,isIndeterminate:u,name:x,value:A,tabIndex:K=void 0,"aria-label":U,"aria-labelledby":q,"aria-invalid":P,...T}=b,S=de(T,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),F=w(Q),H=w(Y),O=w(G),[y,Z]=n.useState(!1),[f,m]=n.useState(!1),[h,V]=n.useState(!1),[k,v]=n.useState(!1);n.useEffect(()=>le(Z),[]);const c=n.useRef(null),[_,$]=n.useState(!0),[ee,C]=n.useState(!!B),L=M!==void 0,o=L?M:ee,j=n.useCallback(e=>{if(s||t){e.preventDefault();return}L||C(o?e.target.checked:u?!0:e.target.checked),F==null||F(e)},[s,t,o,L,u,F]);E(()=>{c.current&&(c.current.indeterminate=!!u)},[u]),ie(()=>{t&&m(!1)},[t,m]),E(()=>{const e=c.current;if(!(e!=null&&e.form))return;const r=()=>{C(!!B)};return e.form.addEventListener("reset",r),()=>{var d;return(d=e.form)==null?void 0:d.removeEventListener("reset",r)}},[]);const z=t&&!J,N=n.useCallback(e=>{e.key===" "&&v(!0)},[v]),W=n.useCallback(e=>{e.key===" "&&v(!1)},[v]);E(()=>{if(!c.current)return;c.current.checked!==o&&C(c.current.checked)},[c.current]);const ae=n.useCallback((e={},r=null)=>{const d=g=>{f&&g.preventDefault(),v(!0)};return{...e,ref:r,"data-active":a(k),"data-hover":a(h),"data-checked":a(o),"data-focus":a(f),"data-focus-visible":a(f&&y),"data-indeterminate":a(u),"data-disabled":a(t),"data-invalid":a(i),"data-readonly":a(s),"aria-hidden":!0,onMouseDown:l(e.onMouseDown,d),onMouseUp:l(e.onMouseUp,()=>v(!1)),onMouseEnter:l(e.onMouseEnter,()=>V(!0)),onMouseLeave:l(e.onMouseLeave,()=>V(!1))}},[k,o,t,f,y,h,u,i,s]),te=n.useCallback((e={},r=null)=>({...e,ref:r,"data-active":a(k),"data-hover":a(h),"data-checked":a(o),"data-focus":a(f),"data-focus-visible":a(f&&y),"data-indeterminate":a(u),"data-disabled":a(t),"data-invalid":a(i),"data-readonly":a(s)}),[k,o,t,f,y,h,u,i,s]),ne=n.useCallback((e={},r=null)=>({...S,...e,ref:X(r,d=>{d&&$(d.tagName==="LABEL")}),onClick:l(e.onClick,()=>{var d;_||((d=c.current)==null||d.click(),requestAnimationFrame(()=>{var g;(g=c.current)==null||g.focus({preventScroll:!0})}))}),"data-disabled":a(t),"data-checked":a(o),"data-invalid":a(i)}),[S,t,o,i,_]),oe=n.useCallback((e={},r=null)=>({...e,ref:X(c,r),type:"checkbox",name:x,value:A,id:I,tabIndex:K,onChange:l(e.onChange,j),onBlur:l(e.onBlur,H,()=>m(!1)),onFocus:l(e.onFocus,O,()=>m(!0)),onKeyDown:l(e.onKeyDown,N),onKeyUp:l(e.onKeyUp,W),required:D,checked:o,disabled:z,readOnly:s,"aria-label":U,"aria-labelledby":q,"aria-invalid":P?!!P:i,"aria-describedby":R,"aria-disabled":t,style:ce}),[x,A,I,j,H,O,N,W,D,o,z,s,U,q,P,i,R,t,K]),se=n.useCallback((e={},r=null)=>({...e,ref:r,onMouseDown:l(e.onMouseDown,ue),"data-disabled":a(t),"data-checked":a(o),"data-invalid":a(i)}),[o,t,i]);return{state:{isInvalid:i,isFocused:f,isChecked:o,isActive:k,isHovered:h,isIndeterminate:u,isDisabled:t,isReadOnly:s,isRequired:D},getRootProps:ne,getCheckboxProps:ae,getIndicatorProps:te,getInputProps:oe,getLabelProps:se,htmlProps:S}}function ue(b){b.preventDefault(),b.stopPropagation()}export{he as u};
