import{j as e,F as h,T as t,d as o,D as d,I as A,a2 as f,_ as b,n as D,c as O,h as u,k as I}from"./index-41b88296.js";import{L as w}from"./Loading-877cd304.js";import{E as z}from"./Error-e92c2742.js";import{d as v}from"./dateFormatorFunction-b8d8a4b9.js";import{G as S}from"./chunk-JARCRF6W-4c0ac644.js";import{A as E,a as C,b as W,c as P,d as $}from"./chunk-UIZMWHSN-c9cf56dd.js";import"./chunk-5MKCW436-b59c9923.js";import"./index-8280927f.js";const s=({name:x,value:a})=>e.jsxs(h,{justifyContent:"space-between",children:[e.jsx(t,{children:x}),e.jsx(t,{children:a})]}),F=({firstName:x,lastName:a,email:i,mobile:c,addressLine1:j,addressLine2:l,locality:p,state:m,pinCode:r,country:n})=>e.jsxs(o,{px:"25px",children:[e.jsx(t,{fontSize:"20px",fontWeight:600,children:"Shipping Address"}),e.jsx(d,{mb:"20px"}),e.jsxs(h,{flexDirection:"column",gap:"5px",my:"20px",fontSize:"18px",children:[e.jsx(s,{name:"Full Name",value:`${x} ${a}`}),e.jsx(s,{name:"Mobile",value:`+91 ${c}`}),e.jsx(s,{name:"Email",value:i}),e.jsx(d,{my:"10px"}),e.jsx(s,{name:"Address",value:j}),l&&e.jsx(s,{name:"Address(2)",value:l}),e.jsx(s,{name:"City",value:p}),e.jsx(s,{name:"State",value:m}),e.jsx(s,{name:"Pincode",value:r}),e.jsx(s,{name:"Country",value:n}),e.jsx(d,{my:"10px"})]})]}),T=({subTotal:x,discount:a,quantity:i,total:c,shipping:j,createdAt:l,orderId:p,razorpayPaymentId:m})=>{const{date:r,time:n}=v(l);return e.jsx(e.Fragment,{children:e.jsxs(o,{py:"15px",px:"25px",children:[e.jsx(t,{fontSize:"20px",fontWeight:600,children:"Summary"}),e.jsx(d,{}),e.jsxs(h,{flexDirection:"column",gap:"5px",my:"20px",fontSize:"18px",children:[e.jsx(s,{name:"Order Date",value:r}),e.jsx(s,{name:"Order Time",value:n}),e.jsx(d,{my:"10px"}),e.jsx(s,{name:"Order ID",value:p}),e.jsx(s,{name:"Payment ID",value:m}),e.jsx(d,{my:"10px"}),e.jsx(s,{name:"Subtotal",value:`₹${x}.00`}),e.jsx(s,{name:"Quantity",value:i}),e.jsxs(h,{justifyContent:"space-between",children:[e.jsx(t,{children:"Estimated Delivery"}),e.jsxs(t,{title:"Free delivery applies to orders of ₹14,000 or more",cursor:"pointer",children:["₹",j,".00"]})]}),e.jsx(s,{name:"Discount",value:`₹${a}.00`}),e.jsx(d,{my:"10px"}),e.jsx(s,{name:"Total",value:`₹${c}.00`})]})]})})},B=({img:x,title:a,price:i,quantity:c})=>e.jsxs(S,{templateColumns:"100px 60%",p:"5px",children:[e.jsx(o,{w:"100px",overflow:"hidden",children:e.jsx(A,{src:x[0]})}),e.jsx(f,{children:e.jsxs(o,{px:"20px",w:"100%",children:[e.jsx(t,{fontWeight:600,children:b(a)}),e.jsxs(t,{children:["Price: ₹ ",D(i)]}),e.jsxs(t,{children:["Quantity: ",c]})]})})]}),k=({date:x,time:a,children:i})=>e.jsxs(E,{children:[e.jsx("h2",{children:e.jsxs(C,{children:[e.jsxs(o,{flex:"1",textAlign:"left",children:["Order on ",x," at ",a]}),e.jsx(W,{})]})}),e.jsx(P,{pb:4,children:i})]});function _(){const x=O(r=>r.auth.token),[a,i]=u.useState(!1),[c,j]=u.useState(!1),[l,p]=u.useState([]),m=async r=>{try{i(!0);let{data:n}=await I.get("/order/getorders",{headers:{Authorization:`Bearer ${r}`}});n=n.reverse(),p(n),i(!1)}catch(n){console.log(n),i(!1),j(!0)}};return u.useEffect(()=>{m(x)},[]),l.length===0?e.jsx(o,{children:e.jsx(f,{h:"40vh",children:e.jsx(t,{fontSize:"20px",children:"Your orders will be displayed here."})})}):a?e.jsx(w,{}):c?e.jsx(z,{}):e.jsx(o,{children:e.jsxs(o,{px:"20px",mb:["250px","150px","150px","150px","150px"],children:[e.jsx(h,{justify:"space-between",maxW:1200,m:"20px auto",children:e.jsxs(f,{children:[e.jsx(t,{fontWeight:600,fontSize:["20px","25px"],children:"Orders  "}),e.jsxs(t,{fontSize:["16px","20px"],children:[" (",l.length,")"]})]})}),e.jsx($,{defaultIndex:[0],allowMultiple:!0,children:e.jsx(o,{maxW:1200,m:"40px auto",children:l.map(r=>{const{date:n,time:y}=v(r.createdAt);return e.jsx(k,{date:n,time:y,children:e.jsx(o,{children:e.jsxs(S,{templateColumns:["100%","100%","48% 48%","32% 31% 33%","31% 30% 31%"],gap:["20px","20px","4%","2%","4%"],children:[e.jsxs(o,{py:"15px",px:"25px",children:[e.jsx(t,{fontSize:"20px",fontWeight:600,children:"Ordered Items"}),e.jsx(d,{mb:"20px"}),r.cartProducts.map(g=>e.jsx(B,{...g},g.id))]}),e.jsx(F,{...r.ShippingDetails[0]}),e.jsx(T,{createdAt:r.createdAt,...r.PaymentDetails[0],...r})]})},r.id)},n+y+r.id)})})})]})})}export{_ as default};
